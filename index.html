<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>bol-ai | Global Reasoning Engine - Advanced 2.0</title>
    
    <!-- 
        ARCHITECT: VIVEK DALVI
        SYSTEM: BOL.AI REASONING CORE + DYNAMIC APPS LAYER
        VERSION: 2.0 (Apps, Real-Time Data, User Memory)
    -->

    <!-- External Assets -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Rendering Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/tokyo-night-dark.min.css">
    
    <!-- MATH RENDERING (KaTeX) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>

    <!-- Firebase SDK (Compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    
    <!-- Custom CSS Linked Here -->
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">

    <!-- MAINTENANCE SCREEN (Controlled by Firestore) -->
    <div id="maintenance-screen">
        <i class="fas fa-microchip" style="font-size: 5rem; color: var(--accent); animation: fastSpin 3s linear infinite;"></i>
        <h1 style="font-size: 3rem; color: var(--accent); margin-top: 20px;">SYSTEM UPGRADE</h1>
        <p style="font-size: 1.2rem; color: var(--text-dim);">Vivek Dalvi's Logic Engine is in maintenance mode.</p>
    </div>

    <div id="overlay" onclick="closeModals()"></div>

    <aside id="sidebar">
        <div class="sidebar-header">
            <span class="logo">bol-ai</span>
            <i class="fas fa-bars-staggered" style="cursor:pointer; font-size: 1.2rem;" onclick="toggleSidebar()"></i>
        </div>

        <div class="auth-section" id="authSection">
            <button class="auth-btn" onclick="openAuthModal('login')">Login / Sign Up</button>
        </div>

        <button class="new-chat-btn" onclick="startNewChat()"><i class="fas fa-plus-circle"></i> <span>Initialize Logic Session</span></button>
        
        <div id="history-list" style="flex:1; overflow-y:auto;"></div>

        <div class="sidebar-settings">
            <div>
                <div class="sidebar-label">Language</div>
                <select id="langSelect" class="modern-select">
    <option value="English">English</option>

    <!-- Indian Languages -->
    <optgroup label="Indian Languages">
        <option value="Hindi">Hindi (हिंदी)</option>
        <option value="Marathi">Marathi (मराठी)</option>
        <option value="Chhattisgarhi">Chhattisgarhi (छत्तीसगढ़ी)</option>
        <option value="Bengali">Bengali (বাংলা)</option>
        <option value="Gujarati">Gujarati (ગુજરાતી)</option>
        <option value="Punjabi">Punjabi (ਪੰਜਾਬੀ)</option>
        <option value="Tamil">Tamil (தமிழ்)</option>
        <option value="Telugu">Telugu (తెలుగు)</option>
        <option value="Kannada">Kannada (ಕನ್ನಡ)</option>
        <option value="Malayalam">Malayalam (മലയാളം)</option>
        <option value="Odia">Odia (ଓଡ଼ିଆ)</option>
        <option value="Urdu">Urdu (اردو)</option>
        <option value="Assamese">Assamese (অসমীয়া)</option>
        <option value="Nepali">Nepali (नेपाली)</option>
        <option value="Sanskrit">Sanskrit (संस्कृतम्)</option>
        <option value="Konkani">Konkani (कोंकणी)</option>
        <option value="Maithili">Maithili (मैथिली)</option>
        <option value="Sindhi">Sindhi (सिंधी)</option>
        <option value="Santali">Santali (ᱥᱟᱱᱛᱟᱲᱤ)</option>
        <option value="Dogri">Dogri (डोगरी)</option>
        <option value="Kashmiri">Kashmiri (कॉशुर)</option>
        <option value="Bodo">Bodo (बड़ो)</option>
        <option value="Manipuri">Manipuri (মৈতৈলোন্)</option>
    </optgroup>

    <!-- Asian Languages -->
    <optgroup label="Asian Languages">
        <option value="Chinese Simplified">Chinese (Simplified)</option>
        <option value="Chinese Traditional">Chinese (Traditional)</option>
        <option value="Japanese">Japanese (日本語)</option>
        <option value="Korean">Korean (한국어)</option>
        <option value="Thai">Thai (ไทย)</option>
        <option value="Vietnamese">Vietnamese (Tiếng Việt)</option>
        <option value="Indonesian">Indonesian (Bahasa Indonesia)</option>
        <option value="Malay">Malay (Bahasa Melayu)</option>
        <option value="Filipino">Filipino (Tagalog)</option>
        <option value="Sinhala">Sinhala (සිංහල)</option>
        <option value="Burmese">Burmese (မြန်မာ)</option>
        <option value="Khmer">Khmer (ភាសាខ្មែរ)</option>
        <option value="Lao">Lao (ລາວ)</option>
        <option value="Mongolian">Mongolian (Монгол)</option>
    </optgroup>

    <!-- Middle East -->
    <optgroup label="Middle Eastern Languages">
        <option value="Arabic">Arabic (العربية)</option>
        <option value="Hebrew">Hebrew (עברית)</option>
        <option value="Persian">Persian / Farsi (فارسی)</option>
        <option value="Pashto">Pashto (پښتو)</option>
        <option value="Kurdish">Kurdish (Kurdî)</option>
        <option value="Turkish">Turkish (Türkçe)</option>
    </optgroup>

    <!-- European Languages -->
    <optgroup label="European Languages">
        <option value="Spanish">Spanish (Español)</option>
        <option value="French">French (Français)</option>
        <option value="German">German (Deutsch)</option>
        <option value="Italian">Italian (Italiano)</option>
        <option value="Portuguese">Portuguese (Português)</option>
        <option value="Russian">Russian (Русский)</option>
        <option value="Ukrainian">Ukrainian (Українська)</option>
        <option value="Polish">Polish (Polski)</option>
        <option value="Dutch">Dutch (Nederlands)</option>
        <option value="Greek">Greek (Ελληνικά)</option>
        <option value="Swedish">Swedish (Svenska)</option>
        <option value="Norwegian">Norwegian (Norsk)</option>
        <option value="Danish">Danish (Dansk)</option>
        <option value="Finnish">Finnish (Suomi)</option>
        <option value="Czech">Czech (Čeština)</option>
        <option value="Hungarian">Hungarian (Magyar)</option>
        <option value="Romanian">Romanian (Română)</option>
        <option value="Bulgarian">Bulgarian (Български)</option>
        <option value="Serbian">Serbian (Српски)</option>
        <option value="Croatian">Croatian (Hrvatski)</option>
    </optgroup>

    <!-- African Languages -->
    <optgroup label="African Languages">
        <option value="Swahili">Swahili (Kiswahili)</option>
        <option value="Zulu">Zulu (IsiZulu)</option>
        <option value="Xhosa">Xhosa (IsiXhosa)</option>
        <option value="Yoruba">Yoruba</option>
        <option value="Igbo">Igbo</option>
        <option value="Hausa">Hausa</option>
        <option value="Amharic">Amharic (አማርኛ)</option>
        <option value="Somali">Somali (Soomaali)</option>
    </optgroup>

    <!-- Americas -->
    <optgroup label="American Languages">
        <option value="English US">English (US)</option>
        <option value="English UK">English (UK)</option>
        <option value="Spanish Latin">Spanish (Latin America)</option>
        <option value="Portuguese Brazil">Portuguese (Brazil)</option>
        <option value="Quechua">Quechua</option>
        <option value="Guarani">Guarani</option>
    </optgroup>
</select>
            </div>
            <div>
                <div class="sidebar-label">Interface Theme</div>
                <select onchange="changeTheme(this.value)" class="modern-select">
                    <option value="dark">Dark Theme</option>
                    <option value="light">Light Theme</option>
                    <option value="cyber">Cyber Mode</option>
                </select>
            </div>
        </div>

        <div class="sidebar-footer" style="padding:15px; border-top:1px solid var(--border);">
            <div class="history-item" onclick="openModal('aboutModal')"><span><i class="fas fa-info-circle"></i> About bol-ai</span></div>
            <div class="history-item" onclick="window.location.href='https://vivek.com'"><span><i class="fas fa-user-secret"></i> Logic Privacy</span></div>
            <!-- Click this 5 times for ADMIN PANEL -->
            <div class="history-item" onclick="handleSecretAdminClick()"><span><i class="fas fa-headset"></i> System Support</span></div>
        </div>
    </aside>

    <main id="main-content">
        <header>
            <div style="display:flex; align-items:center; gap:15px">
                <i class="fas fa-bars" style="font-size: 1.5rem; cursor: pointer;" onclick="toggleSidebar()"></i>
                <div class="logo" style="font-size:1.5rem;">bol-ai</div>
            </div>
            <div style="display:flex; gap:15px; align-items:center">
                <i class="fas fa-floppy-disk" style="cursor:pointer; color:var(--accent); font-size:1.4rem" onclick="manualSave()" title="Snapshot Logic (Local)"></i>
            </div>
        </header>

        <div id="chat-container">
            <div class="msg-wrapper"><div class="message ai-msg"><h3>bol-ai 2.0 Pro</h3><p>Developed by <b>Vivek Dalvi</b>. Apps Layer Active. Ask anything...</p></div></div>
        </div>

        <div class="input-area">
            <div class="msg-wrapper">
                <div class="thinking-box" id="thinking-box">
                    <div class="gate-spinner"></div><span style="color:var(--accent); font-weight:700">VIVEK'S CORE REASONING...</span>
                </div>
                <div class="input-box">
                    <textarea id="userInput" placeholder="Ask anything..." rows="1" oninput="autoExpand(this)"></textarea>
                    <button class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
                </div>
                <div style="text-align: center; margin-top: 10px; font-size: 0.7rem; color: var(--text-dim); opacity:0.6;">Created by Vivek Dalvi | © 2026 bol-ai | All Rights Reserved</div>
            </div>
        </div>
    </main>

    <!-- AUTH MODAL -->
    <div class="modal" id="authModal">
        <span class="close-modal-btn" onclick="closeModals()">&times;</span>
        <h2 id="authTitle">Login</h2>
        <div class="auth-form">
            <input type="email" id="authEmail" placeholder="Email Address">
            <input type="password" id="authPass" placeholder="Password">
            <button class="auth-submit" id="authActionBtn" onclick="handleAuth()">LOGIN</button>
            <div class="auth-toggle" onclick="toggleAuthMode()" id="authToggleText">New user? Create account</div>
        </div>
    </div>

    <!-- ADMIN DEVELOPER MODAL (HIDDEN) -->
    <div class="modal" id="adminModal" style="max-width: 600px;">
        <span class="close-modal-btn" onclick="closeModals()">&times;</span>
        <h2><i class="fas fa-code"></i> Developer Console</h2>
        <p>Add Micro-Apps (HTML/JS) to Firebase. These trigger on user keywords.</p>
        <div class="auth-form admin-form">
            <label>App Name</label>
            <input type="text" id="appName" placeholder="e.g. Clock App">
            
            <label>Trigger Keywords (comma separated)</label>
            <input type="text" id="appKeywords" placeholder="e.g. time, date, today, clock">
            
            <label>JavaScript Code (Must return a string)</label>
            <textarea id="appCode" placeholder="return 'Current Time: ' + new Date().toLocaleString();"></textarea>
            
            <button class="auth-submit" onclick="saveAppToFirestore()">DEPLOY APP TO CLOUD</button>
            <hr style="border:0; border-top:1px solid var(--border); margin:15px 0;">
            <div style="font-size:0.8rem; color:var(--accent);">Current Active Apps: <span id="activeAppCount">Loading...</span></div>
        </div>
    </div>

    <!-- FORCE LOGIN MODAL -->
    <div class="modal" id="forceLoginModal" style="z-index: 6000; text-align:center;">
        <h2 style="color:var(--error)">Session Expired</h2>
        <p>You have used the guest mode for 5 minutes.</p>
        <p>Please <b>Login</b> to continue using Vivek Dalvi's Logic Engine.</p>
        <button class="auth-submit" onclick="openAuthModal('login'); document.getElementById('forceLoginModal').style.display='none';">LOGIN NOW</button>
    </div>

    <!-- PRO MODALS -->
    <div class="modal" id="aboutModal">
        <span class="close-modal-btn" onclick="closeModals()">&times;</span>
        <h2>About</h2>
     <p>
    <strong>bol-ai</strong> is a 
    <span class="highlight">high-performance reasoning engine</span> 
    designed by <strong>Vivek Dalvi</strong>, built to deliver 
    <span class="highlight">fast, accurate, and intelligent</span> responses.
  </p>

  <p>
    <strong>Version 2.0</strong> integrates 
    <span class="badge">Real-Time Dynamic Apps</span> via 
    <span class="badge">Firebase</span> along with 
    <span class="badge">Local Memory</span>, enabling 
    <span class="highlight">personalized and context-aware interactions</span>.
  </p>

  <p>
    The platform focuses on 
    <span class="highlight">speed</span>, 
    <span class="highlight">reliability</span>, and 
    <span class="highlight">scalability</span>, ensuring a smooth and intelligent AI experience.
  </p>
</section>
    </div>

    <div class="modal" id="contactModal">
        <span class="close-modal-btn" onclick="closeModals()">&times;</span>
        <h2>Support</h2>
        <p>If you encounter any errors, unexpected behavior, or technical issues while using the bol-ai, please don’t hesitate to message us. Our team will review the issue and get back to you as soon as possible to ensure a smooth experience.</p>
        <p style="color:var(--accent); font-size: 1.5rem; font-weight: 800; border: 1px dashed var(--accent); padding: 15px; text-align: center; border-radius: 15px;">vcoder7311@gmail.com</p>
    </div>

    <!-- Custom JavaScript Linked Here -->
    <script src="script.js"></script>
</body>
</html>